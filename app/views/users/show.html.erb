<p>
  <strong>Username:</strong>
  <%= @user.username %>
</p>

<p>
  <strong>Favorite beer:</strong>
  <%= @user.favorite_beer %>
</p>

<p>
  <strong>Favorite style:</strong>
  <%= @user.favorite_style %>
</p>

<p>
  <strong>Favorite brewery:</strong>
  <%= @user.favorite_brewery %>
</p>

<p>
  <% if @user.ratings.present? %>
    Has made <%= pluralize @user.ratings.count, "rating" %>, average rating <%= round(@user.average_rating) %>
  <% else %>
    Has not made any ratings
  <% end %>
</p>

<h3>Member of</h3>

<ul>
  <% @user.beer_clubs.each do |club| %>
    <li>
      <%= link_to club.name, club %>
    </li>
  <% end %>
</ul>

<h3>Ratings</h3>
<ul>
  <% @user.ratings.each do |rating| %>
    <li> <%= render rating %>
      <% if @user == current_user %>
        <%= button_to 'delete',
                      rating,
                      method: :delete,
                      form: {
                        data: {
                          turbo_confirm: "Are you sure you want to delete this rating?"
                        }
                      } %>
      <% end %>
    </li>
  <% end %>
</ul>

<div>
  <% if @user == current_user %>
    <%= link_to "Edit this user", edit_user_path(@user) %> |
  <% end %>
  <%= link_to "Back to users", users_path %>

  <% if @user == current_user %>
    <%= button_to "Destroy this user", @user, method: :delete %>
  <% end %>
</div>
